🔧 전체 아키텍처 개요 (Vanilla Frontend + FastAPI)
[Static Frontend (HTML/CSS/JS)]
    ⬍  REST API / WebSocket
[FastAPI (Backend)]
    ├─ OpenAI API / LangChain / Embedding 등
    ├─ DiskCache
    ├─ SQLite / Watchdog / Subprocess
    └─ 로컬 시스템 연동

✅ 공통적으로 필요한 정보
구분	내용
🔐 인증/보안	API Key 노출 방지 (백엔드에 저장), CSRF/XSS 보호
🧾 환경 관리	.env를 통한 환경 변수 분리 (예: API_KEY, BASE_URL)
🧪 로컬 실행	FastAPI에서 정적 파일 서빙 및 CORS 설정
📦 배포 계획	Docker Compose 또는 단일 Dockerfile로 통합

🟦 Frontend (Vanilla HTML/CSS/JavaScript)
🎯 목적
사용자 입력 UI
결과 출력 및 상태 확인 대시보드
캐시/설정 등 제어 가능한 인터페이스

📌 주요 구현 항목
기능	설명	구현상태
💬 대화 UI	사용자 프롬프트 입력 → 응답 출력 구성	✅ 완료
⚙️ 설정 패널	Temperature, Max Tokens, 시스템 프롬프트 설정	✅ 완료
📊 대시보드	API 호출 수, 토큰 사용량, 캐시 적중률 등 시각화	✅ 완료
📁 작업 이력 조회	백엔드 저장된 로그 데이터 조회 UI	🔄 진행중
🔄 스케줄링 설정	주기적 작업 예약 화면 구성	📋 예정
🔐 API Key 설정	환경변수 또는 설정 파일 관리	✅ 완료
🎤 (선택) 음성 입출력	Web Speech API 또는 TTS/STT 라이브러리 연동	📋 예정

📚 필요한 사전 정보
커스텀 CSS 스타일링
API 스펙 문서 (FastAPI로 Swagger 자동 생성)
브라우저 네이티브 상태 관리 (localStorage, sessionStorage)
정적 파일 서빙 설정 (FastAPI StaticFiles)

🟨 FastAPI (Backend)
🎯 목적
OpenAI API, LangChain, 에이전트 기능 수행
시스템 제어 및 캐시 저장
API 호출 최적화 및 로컬 기능 제공

📌 주요 구현 항목
기능	설명	구현상태
🧠 GPT API 라우터	Prompt 입력 받고 OpenAI 호출, 캐시 적용, 응답 반환	✅ 완료
📦 캐시 모듈	DiskCache 연동, TTL 관리	✅ 완료
🧰 Function Calling / LangChain 도구	함수 스펙 정의 (Pydantic), 도구 실행	✅ 완료
🗃️ SQLite 연동	작업 이력 저장, 사용자 설정 저장	🔄 진행중
👀 파일 감지	Watchdog으로 파일 변경 감지 이벤트 처리	✅ 완료
🧾 API 사용량 추적	호출 수, 토큰 수 측정 후 SQLite/로그 저장	✅ 완료
🛠️ 작업 스케줄러	schedule로 작업 예약, 로그로 확인	📋 예정
🔐 API Key 관리	.env 및 SecretManager 패턴	✅ 완료

📚 필요한 사전 정보
OpenAI 및 LangChain 버전 고정
Pydantic v2 고려 (FastAPI와 호환성 체크)
DiskCache 설정 방식
LangChain 에이전트 실행 구조 (Tool → Chain → Agent)
Subprocess 실행 시 화이트리스트 경로

🔁 Frontend와 Backend 연결을 위한 준비사항
항목	세부 내용
🔗 API 경로 설계	/api/chat, /api/agent, /api/system, /api/permissions 등
🪪 인증 방식	환경변수 기반 API Key 관리
🔄 통신 방식	REST (대부분) + WebSocket (에이전트 실시간 상태 모니터링용)
🧪 API 문서 자동화	FastAPI Swagger UI로 확인 (→ 프론트와 연동 테스트)
⚠️ CORS 허용 설정	app.add_middleware(CORSMiddleware, ...)
📁 정적 파일 서빙	app.mount("/static", StaticFiles(directory="frontend"), name="static")

📦 배포 및 실행 고려사항
항목	설명
Dockerfile 작성	FastAPI에서 정적 파일까지 통합 서빙
Docker Compose	FastAPI + SQLite + DiskCache 포함한 구성
.env 파일 구성	API 키, 토큰 제한, 포트 설정 등 환경별로 분리
모니터링	API 로깅, 사용자 작업 로그, 에러 추적 (loguru 등)

🔚 마무리: 로드맵 기반 실행 전략
주차	주요 목표
1주차	FastAPI 기본 골격, GPT API 연동, Vanilla JS 입력→응답 UI
2주차	캐시 연동, LangChain 에이전트 구성, 대시보드 UI 구축
3주차	파일 감지 및 로컬 제어, 스케줄링, DB 연동 완료
4주차	비용 최적화 전략 반영, 테스트 및 음성 인터페이스
5주차	UI polish + 배포 준비 + 문서화
